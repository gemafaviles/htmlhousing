{
  "hash": "5128e2a614a606742a0debc0022f643d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Trabajando con datos reales: vodafone\"\nauthor: \"Gema Fernández-Avilés Calderón\"\nformat: html\ntheme: cerulean\nhighlight-style: ayu-mirage\nself-contained: true\ndate: \"2024-11-22\"\ncode-link: true\nnumber-sections: true\nexecute:\n  code-overflow: scroll\n  echo: true\n  eval: true\n  output: true\n  include: true\n  freeze: auto\n  fig-height: 5\n  warning: false\n  code-fold: true\n  comment: \"#>\"\n  code-line-numbers: true\n  code-copy: true\n#bibliography: biblio.bib\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)          # Para leer los datos en Excel\nlibrary(tidyverse)       # Para manipular los datos\nlibrary(DT)              # Para mostrar tablas interactivas\nlibrary(gganimate)       # Para crear animaciones\nlibrary(leaflet)         # Para crear mapas interactivos\nlibrary(leaflet.extras)  # Para crear extesiones en mapas interactivos\nlibrary(htmltools)       # Para trabajar con HTML \nlibrary(sf)              # Para trabajar con datos espaciales\nlibrary(mapSpain)        # Para crear mapas de España\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvodafone <- read_excel(\"datos/vodafone.xlsx\", \n     sheet = \"muestra\")\n\nhead(vodafone)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 28\n  orden Timestamp         Longitude Latitude Speed Operatorname Operator     CGI\n  <dbl> <chr>                 <dbl>    <dbl> <dbl> <chr>           <dbl>   <dbl>\n1     1 2024.09.11_15.10…     -6.36     36.8     0 vodafone_ES     21401 2.14e14\n2     2 2024.09.11_15.10…     -6.36     36.8     0 vodafone_ES     21401 2.14e14\n3     3 2024.09.11_15.10…     -6.36     36.8     0 vodafone_ES     21401 2.14e14\n4     4 2024.09.11_15.10…     -6.36     36.8     0 vodafone_ES     21401 2.14e14\n5     5 2024.09.11_15.10…     -6.36     36.8     0 vodafone_ES     21401 2.14e14\n6     6 2024.09.11_15.10…     -6.36     36.8     0 vodafone_ES     21401 2.14e14\n# ℹ 20 more variables: Cellname <lgl>, Node <dbl>, CellID <dbl>, LAC <dbl>,\n#   NetworkTech <chr>, NetworkMode <chr>, Level <dbl>, Qual <dbl>, SNR <dbl>,\n#   CQI <chr>, LTERSSI <dbl>, ARFCN <dbl>, DL_bitrate <dbl>, UL_bitrate <dbl>,\n#   PSC <dbl>, Altitude <dbl>, Height <dbl>, Accuracy <dbl>, Location <chr>,\n#   State <chr>\n```\n\n\n:::\n\n```{.r .cell-code}\nnames(vodafone)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"orden\"        \"Timestamp\"    \"Longitude\"    \"Latitude\"     \"Speed\"       \n [6] \"Operatorname\" \"Operator\"     \"CGI\"          \"Cellname\"     \"Node\"        \n[11] \"CellID\"       \"LAC\"          \"NetworkTech\"  \"NetworkMode\"  \"Level\"       \n[16] \"Qual\"         \"SNR\"          \"CQI\"          \"LTERSSI\"      \"ARFCN\"       \n[21] \"DL_bitrate\"   \"UL_bitrate\"   \"PSC\"          \"Altitude\"     \"Height\"      \n[26] \"Accuracy\"     \"Location\"     \"State\"       \n```\n\n\n:::\n\n```{.r .cell-code}\ndim(vodafone)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6968   28\n```\n\n\n:::\n\n```{.r .cell-code}\n# seleciona las 100 primeras filas\n\nvodafone500 <- vodafone[1:500,]\nhead(vodafone500)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 28\n  orden Timestamp         Longitude Latitude Speed Operatorname Operator     CGI\n  <dbl> <chr>                 <dbl>    <dbl> <dbl> <chr>           <dbl>   <dbl>\n1     1 2024.09.11_15.10…     -6.36     36.8     0 vodafone_ES     21401 2.14e14\n2     2 2024.09.11_15.10…     -6.36     36.8     0 vodafone_ES     21401 2.14e14\n3     3 2024.09.11_15.10…     -6.36     36.8     0 vodafone_ES     21401 2.14e14\n4     4 2024.09.11_15.10…     -6.36     36.8     0 vodafone_ES     21401 2.14e14\n5     5 2024.09.11_15.10…     -6.36     36.8     0 vodafone_ES     21401 2.14e14\n6     6 2024.09.11_15.10…     -6.36     36.8     0 vodafone_ES     21401 2.14e14\n# ℹ 20 more variables: Cellname <lgl>, Node <dbl>, CellID <dbl>, LAC <dbl>,\n#   NetworkTech <chr>, NetworkMode <chr>, Level <dbl>, Qual <dbl>, SNR <dbl>,\n#   CQI <chr>, LTERSSI <dbl>, ARFCN <dbl>, DL_bitrate <dbl>, UL_bitrate <dbl>,\n#   PSC <dbl>, Altitude <dbl>, Height <dbl>, Accuracy <dbl>, Location <chr>,\n#   State <chr>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# compruebo que las coordenas están bine leidas y en el formato correcto. \n# Para ello represento las coordenada en un mapa con leaftlet\n\nlibrary(leaflet)\n\nleaflet() |>\n  addTiles() |>\n  addMarkers(data = vodafone500, lng = ~Longitude, lat = ~Latitude ) # popup = ~Operatorname\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-bf07ed55d9f928c392cf\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-bf07ed55d9f928c392cf\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]},{\"method\":\"addMarkers\",\"args\":[[36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770485,36.770517,36.770517,36.770589,36.770589,36.770615,36.770615,36.77056,36.770506,36.770506,36.770439,36.770439,36.770377,36.770377,36.770377,36.770344,36.770344,36.770281,36.770281,36.770204,36.770204,36.770155,36.770185,36.770185,36.770276,36.770276,36.770354,36.770434,36.770434,36.770534,36.770613,36.770613,36.770698,36.770776,36.770776,36.770856,36.770856,36.770855,36.770855,36.770783,36.770731,36.770724,36.770724,36.770776,36.770881,36.770881,36.771009,36.771152,36.771301,36.771301,36.771301,36.771428,36.771561,36.771561,36.771695,36.771814,36.771913,36.771913,36.77199,36.772053,36.772053,36.772089,36.772166,36.772166,36.772276,36.772276,36.772381,36.77246,36.77246,36.77253,36.772618,36.772618,36.772713,36.77281,36.77281,36.77293,36.773017,36.773017,36.773136,36.773207,36.773207,36.773272,36.773331,36.773395,36.773395,36.77346,36.773528,36.773528,36.773578,36.773644,36.773699,36.773699,36.773748,36.773798,36.773798,36.773846,36.773894,36.773894,36.773948,36.774018,36.774018,36.774067,36.774118,36.774169,36.774169,36.774207,36.774255,36.774255,36.774301,36.774347,36.774408,36.774408,36.774472,36.774533,36.774533,36.774595,36.774658,36.774658,36.774717,36.774788,36.774788,36.774839,36.774893,36.774893,36.774975,36.775026,36.775026,36.775084,36.775148,36.775212,36.775212,36.775278,36.77535,36.77535,36.775428,36.775507,36.775595,36.775595,36.775671,36.775743,36.775743,36.775811,36.775881,36.775881,36.77594,36.77594,36.776021,36.776021,36.776084,36.776141,36.776188,36.776188,36.776244,36.776289,36.776289,36.776348,36.776408,36.776408,36.776399,36.776337,36.776337,36.776262,36.776191,36.776191,36.776111,36.776032,36.775946,36.775946,36.775864,36.77579,36.77579,36.775727,36.775666,36.775666,36.77559,36.77549,36.77549,36.775397,36.775326,36.775313,36.775313,36.775362,36.775448,36.775448,36.775534,36.775578,36.775578,36.775531,36.775447,36.775357,36.775357,36.775268,36.775138,36.775138,36.774988,36.774822,36.774673,36.774673,36.774526,36.77438,36.77438,36.774218,36.774218,36.774059,36.773896,36.773896,36.773733,36.773575,36.77343,36.77343,36.773285,36.773128,36.773128,36.772952,36.772781,36.772612,36.772612,36.772456,36.772304,36.772304,36.772157,36.772002,36.771851,36.771851,36.771697,36.771542,36.771542,36.771371,36.771281,36.77119,36.771095,36.770995,36.770995,36.7709,36.770808,36.770643,36.770643,36.770535,36.770433,36.770433,36.770433,36.770341,36.770341,36.770254,36.770254,36.770186,36.77009,36.77009,36.77001,36.769983,36.770028,36.770028,36.770104,36.770144,36.770144,36.770145,36.770127,36.770102,36.770102,36.77008,36.770055,36.770055,36.770029,36.770005,36.770005,36.769984,36.76997,36.769957,36.769957,36.769947,36.769938,36.769938,36.769929,36.769918,36.769908,36.769908,36.769898,36.769879,36.769879,36.769808,36.769744,36.769744,36.769731,36.769776,36.769836,36.769836,36.769855,36.769847,36.769834,36.769834,36.769816,36.769806,36.769776,36.769776,36.769753,36.769726,36.769694,36.76966,36.769623,36.769623,36.769583,36.769544,36.769506,36.769467,36.769467,36.769429,36.76939,36.769352,36.769313,36.769272,36.769272,36.769233,36.769193,36.769152,36.769111,36.769067,36.769067,36.769024,36.768982,36.768938,36.768897,36.768856,36.768856,36.768815,36.768815,36.768772,36.768726,36.768681,36.768638,36.768638,36.768592,36.768548,36.768505,36.768458,36.768411,36.768411,36.768361,36.768314,36.768266,36.768215,36.768166,36.768166,36.768116,36.768065,36.768013,36.767958,36.767904,36.767904,36.76785,36.767792,36.767735,36.767678,36.767621,36.767621,36.76756,36.767495,36.767429,36.767362,36.767285,36.767285,36.76721,36.76721,36.767137,36.767061,36.766986,36.766908,36.766908,36.766838,36.766768,36.766695,36.766627,36.766627,36.766562,36.766495,36.766429,36.766361,36.766297,36.766297,36.766234,36.766173,36.766119,36.76607,36.766026,36.766026,36.765983,36.76594,36.765898,36.765857,36.765814,36.765814,36.765772,36.765728,36.765686,36.765642,36.765596,36.765596,36.765553,36.765512,36.765468,36.765424,36.765383,36.765383,36.76534,36.765298,36.765253,36.765211,36.765168,36.765168,36.765123,36.765081,36.765039,36.764997,36.764955,36.764955,36.764912,36.76487,36.764829,36.764792,36.764767,36.764767,36.764753,36.764754,36.764773,36.764805,36.764844,36.764844,36.764884,36.764929,36.764929,36.764972,36.765012,36.765056,36.765099,36.765099,36.765142,36.765181,36.765218,36.765253,36.765284,36.765284,36.765309,36.765333,36.765354,36.765377,36.7654,36.7654,36.765424,36.765447,36.765471,36.765493,36.765515,36.765515,36.765537,36.76556,36.765582,36.765604,36.765629,36.765629,36.765655,36.76568,36.765707,36.765733,36.765764,36.765764,36.765799,36.765842],[-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358386,-6.358278,-6.358278,-6.358197,-6.358197,-6.358081,-6.358081,-6.357964,-6.357867,-6.357867,-6.357766,-6.357766,-6.357685,-6.357685,-6.357685,-6.357568,-6.357568,-6.357477,-6.357477,-6.357372,-6.357372,-6.357276,-6.357162,-6.357162,-6.357069,-6.357069,-6.357,-6.356927,-6.356927,-6.356827,-6.356756,-6.356756,-6.356686,-6.356613,-6.356613,-6.356539,-6.356539,-6.356403,-6.356403,-6.356322,-6.356199,-6.356064,-6.356064,-6.355936,-6.355848,-6.355848,-6.355842,-6.355843,-6.35577,-6.35577,-6.35577,-6.355644,-6.355532,-6.355532,-6.35541,-6.355296,-6.355197,-6.355197,-6.355091,-6.354982,-6.354982,-6.354868,-6.354757,-6.354757,-6.354777,-6.354777,-6.354743,-6.354625,-6.354625,-6.354523,-6.354436,-6.354436,-6.35437,-6.354309,-6.354309,-6.354227,-6.354181,-6.354181,-6.354073,-6.353967,-6.353967,-6.353853,-6.353729,-6.353612,-6.353612,-6.35349,-6.353364,-6.353364,-6.353246,-6.353131,-6.353015,-6.353015,-6.352899,-6.352783,-6.352783,-6.352675,-6.35258,-6.35258,-6.352471,-6.352356,-6.352356,-6.352248,-6.352124,-6.352002,-6.352002,-6.35188,-6.351758,-6.351758,-6.35163,-6.351514,-6.3514,-6.3514,-6.351263,-6.35114,-6.35114,-6.351022,-6.350922,-6.350922,-6.350808,-6.350705,-6.350705,-6.350586,-6.350482,-6.350482,-6.350366,-6.35026,-6.35026,-6.350145,-6.350025,-6.349907,-6.349907,-6.349791,-6.349681,-6.349681,-6.349535,-6.349386,-6.349244,-6.349244,-6.349097,-6.348961,-6.348961,-6.348843,-6.348717,-6.348717,-6.348622,-6.348622,-6.348484,-6.348484,-6.348363,-6.348239,-6.348122,-6.348122,-6.347979,-6.347862,-6.347862,-6.347753,-6.347638,-6.347638,-6.3475,-6.347377,-6.347377,-6.347243,-6.347118,-6.347118,-6.346983,-6.34685,-6.346712,-6.346712,-6.346574,-6.346446,-6.346446,-6.346349,-6.346252,-6.346252,-6.346144,-6.346085,-6.346085,-6.346043,-6.345956,-6.345831,-6.345831,-6.345722,-6.345682,-6.345682,-6.345716,-6.345869,-6.345869,-6.345978,-6.346023,-6.346006,-6.346006,-6.345978,-6.345964,-6.345964,-6.345969,-6.345991,-6.346037,-6.346037,-6.346096,-6.346155,-6.346155,-6.346221,-6.346221,-6.346285,-6.346354,-6.346354,-6.346421,-6.346482,-6.346538,-6.346538,-6.346589,-6.346638,-6.346638,-6.346687,-6.346738,-6.346788,-6.346788,-6.346833,-6.346878,-6.346878,-6.346916,-6.346938,-6.346939,-6.346939,-6.346924,-6.346902,-6.346902,-6.346881,-6.346871,-6.346859,-6.346846,-6.346832,-6.346832,-6.346819,-6.346808,-6.346792,-6.346792,-6.34679,-6.346794,-6.346794,-6.346794,-6.346812,-6.346812,-6.346926,-6.346926,-6.34702,-6.347044,-6.347044,-6.346978,-6.346855,-6.346743,-6.346743,-6.346656,-6.346554,-6.346554,-6.346434,-6.346286,-6.346109,-6.346109,-6.345938,-6.345757,-6.345757,-6.345558,-6.345345,-6.345345,-6.345132,-6.344918,-6.344707,-6.344707,-6.344517,-6.344338,-6.344338,-6.344161,-6.343978,-6.343811,-6.343811,-6.343669,-6.343559,-6.343559,-6.343427,-6.34331,-6.34331,-6.343185,-6.343073,-6.342975,-6.342975,-6.342858,-6.342701,-6.342506,-6.342506,-6.342297,-6.342184,-6.341966,-6.341966,-6.341854,-6.341743,-6.341627,-6.341518,-6.341404,-6.341404,-6.341284,-6.341165,-6.341049,-6.340931,-6.340931,-6.340814,-6.340696,-6.340587,-6.340474,-6.340358,-6.340358,-6.340244,-6.340129,-6.340013,-6.339893,-6.339764,-6.339764,-6.339637,-6.339509,-6.339372,-6.339237,-6.339099,-6.339099,-6.338963,-6.338963,-6.338818,-6.338668,-6.338521,-6.338376,-6.338376,-6.33822,-6.338065,-6.337916,-6.337761,-6.337604,-6.337604,-6.33744,-6.337285,-6.337124,-6.336956,-6.33679,-6.33679,-6.336627,-6.336457,-6.336285,-6.336104,-6.335924,-6.335924,-6.335746,-6.335554,-6.335364,-6.335171,-6.334979,-6.334979,-6.33478,-6.334572,-6.334369,-6.33417,-6.333955,-6.333955,-6.333747,-6.333747,-6.333545,-6.333337,-6.333133,-6.332921,-6.332921,-6.332728,-6.33253,-6.33233,-6.332136,-6.332136,-6.33195,-6.331759,-6.33157,-6.331378,-6.331196,-6.331196,-6.331011,-6.330818,-6.330631,-6.330444,-6.330259,-6.330259,-6.330067,-6.329868,-6.329673,-6.329481,-6.329276,-6.329276,-6.329076,-6.328876,-6.328681,-6.328477,-6.328271,-6.328271,-6.328072,-6.32788,-6.327675,-6.327474,-6.327281,-6.327281,-6.327083,-6.326884,-6.326677,-6.326486,-6.326289,-6.326289,-6.326086,-6.325892,-6.325703,-6.32551,-6.325318,-6.325318,-6.32512,-6.32493,-6.324747,-6.324555,-6.324369,-6.324369,-6.324181,-6.323997,-6.323809,-6.323615,-6.323427,-6.323427,-6.323243,-6.323043,-6.323043,-6.32285,-6.322661,-6.322465,-6.322267,-6.322267,-6.32206,-6.321867,-6.321666,-6.321457,-6.321251,-6.321251,-6.321051,-6.320843,-6.320633,-6.320415,-6.320207,-6.320207,-6.319992,-6.31977,-6.319555,-6.319344,-6.319126,-6.319126,-6.318908,-6.318682,-6.318462,-6.318245,-6.318016,-6.318016,-6.317795,-6.317578,-6.317369,-6.317153,-6.316934,-6.316934,-6.316724,-6.316525],null,null,null,{\"interactive\":true,\"draggable\":false,\"keyboard\":true,\"title\":\"\",\"alt\":\"\",\"zIndexOffset\":0,\"opacity\":1,\"riseOnHover\":false,\"riseOffset\":250},null,null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"limits\":{\"lat\":[36.764753,36.776408],\"lng\":[-6.358386,-6.316525]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"vodafone_files/libs/htmlwidgets-1.6.3/htmlwidgets.js\"></script>\n<script src=\"vodafone_files/libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"vodafone_files/libs/leaflet-1.3.1/leaflet.css\" rel=\"stylesheet\" />\n<script src=\"vodafone_files/libs/leaflet-1.3.1/leaflet.js\"></script>\n<link href=\"vodafone_files/libs/leafletfix-1.0.0/leafletfix.css\" rel=\"stylesheet\" />\n<script src=\"vodafone_files/libs/proj4-2.6.2/proj4.min.js\"></script>\n<script src=\"vodafone_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js\"></script>\n<link href=\"vodafone_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css\" rel=\"stylesheet\" />\n<script src=\"vodafone_files/libs/leaflet-binding-2.2.2/leaflet.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}